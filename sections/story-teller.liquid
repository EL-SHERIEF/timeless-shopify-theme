{% schema %}
{
  "name": "story teller",
  "settings": [
    {
      "type": "header",
      "content": "Section Settings"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#fff9f3"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#1a1a1a"
    },
    {
      "type": "header",
      "content": "Media Text Blocks"
    },
    {
      "type": "text",
      "id": "block_1_title",
      "label": "Block 1 Title",
      "default": "Secure technology suitable for most skin and hair types"
    },
    {
      "type": "textarea",
      "id": "block_1_description",
      "label": "Block 1 Description",
      "default": "Our technology adapts to your skin type for optimal results safely. Thanks to PrecisionPulseâ„¢ IPL technology, which flashes at 10 ms, up to 4 times longer than competing IPL, the light is primarily absorbed by the melanin in your hair and not by that in your skin."
    },
    {
      "type": "select",
      "id": "block_1_media_type",
      "label": "Block 1 Media Type",
      "options": [
        { "value": "image", "label": "Image" },
        { "value": "video", "label": "Video" }
      ],
      "default": "image"
    },
    {
      "type": "image_picker",
      "id": "block_1_image",
      "label": "Block 1 Image",
      "info": "Upload an image if media type is set to 'Image'"
    },
    {
      "type": "url",
      "id": "block_1_video_url",
      "label": "Block 1 Video URL",
      "info": "Enter a video URL (e.g., YouTube or Vimeo) if media type is set to 'Video'"
    },
    {
      "type": "header",
      "content": "Block 2"
    },
    {
      "type": "text",
      "id": "block_2_title",
      "label": "Block 2 Title",
      "default": "Easy to use"
    },
    {
      "type": "textarea",
      "id": "block_2_description",
      "label": "Block 2 Description",
      "default": "Enjoy an intuitive device that easily integrates into your beauty routine. In just a few minutes, treat any area with ease thanks to the automatic flash mode, ideal for large surface areas."
    },
    {
      "type": "select",
      "id": "block_2_media_type",
      "label": "Block 2 Media Type",
      "options": [
        { "value": "image", "label": "Image" },
        { "value": "video", "label": "Video" }
      ],
      "default": "image"
    },
    {
      "type": "image_picker",
      "id": "block_2_image",
      "label": "Block 2 Image",
      "info": "Upload an image if media type is set to 'Image'"
    },
    {
      "type": "url",
      "id": "block_2_video_url",
      "label": "Block 2 Video URL",
      "info": "Enter a video URL (e.g., YouTube or Vimeo) if media type is set to 'Video'"
    }
  ],
  "presets": [
    {
      "name": "Media with Text Section",
      "category": "Custom"
    }
  ]
}
{% endschema %}

<div class="media-text-section section section-blends section-full">
  <div class="bg-custom py-8" style="--background: {{ section.settings.background_color | split: '#' | last | replace: ' ', '' }}; --text-color: {{ section.settings.text_color | split: '#' | last | replace: ' ', '' }};">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Block 1 -->
      <div class="media-with-text flex flex-col md:flex-row items-center gap-6 mb-6">
        <div class="media-with-text__media rounded w-full md:w-1/2" reveal-on-scroll="true" style="opacity: 1;">
          {% if section.settings.block_1_media_type == "image" and section.settings.block_1_image %}
            <img src="{{ section.settings.block_1_image | img_url: '600x' }}" alt="" loading="lazy" sizes="(max-width: 999px) 100vw, min(650px, 50vw)" style="width: 100%; height: auto; transform: scale(1);">
          {% elsif section.settings.block_1_media_type == "video" and section.settings.block_1_video_url %}
            <iframe src="{{ section.settings.block_1_video_url }}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="width: 100%; height: 100%; min-height: 300px;"></iframe>
          {% else %}
            <div class="w-full h-64 bg-gray-200 rounded"></div>
          {% endif %}
        </div>
        <div class="media-with-text__content rounded w-full md:w-1/2 bg-custom text-custom p-4" style="--background: {{ section.settings.background_color | split: '#' | last | replace: ' ', '' }}; --text-color: {{ section.settings.text_color | split: '#' | last | replace: ' ', '' }};">
          <div class="prose break-all text-center md:text-left" reveal-on-scroll="true" style="opacity: 1;">
            <p class="text-xl md:text-2xl font-bold">{{ section.settings.block_1_title }}</p>
            <p class="text-base mt-2">{{ section.settings.block_1_description }}</p>
          </div>
        </div>
      </div>

      <!-- Block 2 -->
      <div class="media-with-text flex flex-col md:flex-row-reverse items-center gap-6">
        <div class="media-with-text__media rounded w-full md:w-1/2" reveal-on-scroll="true" style="opacity: 1;">
          {% if section.settings.block_2_media_type == "image" and section.settings.block_2_image %}
            <img src="{{ section.settings.block_2_image | img_url: '600x' }}" alt="" loading="lazy" sizes="(max-width: 999px) 100vw, min(650px, 50vw)" style="width: 100%; height: auto; transform: scale(1);">
          {% elsif section.settings.block_2_media_type == "video" and section.settings.block_2_video_url %}
            <iframe src="{{ section.settings.block_2_video_url }}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="width: 100%; height: 100%; min-height: 300px;"></iframe>
          {% else %}
            <div class="w-full h-64 bg-gray-200 rounded"></div>
          {% endif %}
        </div>
        <div class="media-with-text__content rounded w-full md:w-1/2 bg-custom text-custom p-4" style="--background: {{ section.settings.background_color | split: '#' | last | replace: ' ', '' }}; --text-color: {{ section.settings.text_color | split: '#' | last | replace: ' ', '' }};">
          <div class="prose break-all text-center md:text-left" reveal-on-scroll="true" style="opacity: 1;">
            <p class="text-xl md:text-2xl font-bold">{{ section.settings.block_2_title }}</p>
            <p class="text-base mt-2">{{ section.settings.block_2_description }}</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .media-text-section {
    padding: 20px 10px;
  }

  .bg-custom {
    background-color: rgb(var(--background, 255 249 243));
    color: rgb(var(--text-color, 26 26 26));
  }

  .text-custom {
    color: rgb(var(--text-color, 26 26 26));
  }

  .py-8 {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }

  .max-w-5xl {
    max-width: 64rem;
  }

  .mx-auto {
    margin-left: auto;
    margin-right: auto;
  }

  .px-4 {
    padding-left: 1rem;
    padding-right: 1rem;
  }

  .sm:px-6 {
    padding-left: 1.5rem;
    padding-right: 1.5rem;
  }

  .lg:px-8 {
    padding-left: 2rem;
    padding-right: 2rem;
  }

  .flex {
    display: flex;
  }

  .flex-col {
    flex-direction: column;
  }

  .md:flex-row {
    flex-direction: row;
  }

  .md:flex-row-reverse {
    flex-direction: row-reverse;
  }

  .items-center {
    align-items: center;
  }

  .gap-6 {
    gap: 1.5rem;
  }

  .mb-6 {
    margin-bottom: 1.5rem;
  }

  .media-with-text__media {
    width: 100%;
  }

  .media-with-text__content {
    width: 100%;
  }

  .rounded {
    border-radius: 0.5rem;
  }

  .p-4 {
    padding: 1rem;
  }

  .text-xl {
    font-size: 1.25rem;
    line-height: 1.75rem;
  }

  .md:text-2xl {
    font-size: 1.5rem;
    line-height: 2rem;
  }

  .font-bold {
    font-weight: 700;
  }

  .text-base {
    font-size: 1rem;
    line-height: 1.5rem;
  }

  .mt-2 {
    margin-top: 0.5rem;
  }

  .prose p {
    margin: 0;
  }

  /* Responsive Adjustments */
  @media (max-width: 768px) {
    .text-xl {
      font-size: 1.125rem;
    }

    .md:text-2xl {
      font-size: 1.25rem;
    }

    .text-base {
      font-size: 0.875rem;
    }

    .p-4 {
      padding: 0.75rem;
    }

    .gap-6 {
      gap: 1rem;
    }
  }
</style>