{% schema %}
{
  "name": "Comparison Table",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Content",
      "default": "<h2>Why Choose Us?</h2>"
    },
    {
      "type": "richtext",
      "id": "subcontent",
      "label": "Subcontent",
      "default": "<p>Compare our features against the competition.</p>"
    }
  ],
  "blocks": [
    {
      "type": "feature",
      "name": "Feature",
      "settings": [
        { "type": "text", "id": "name", "label": "Feature Name" },
        { "type": "checkbox", "id": "ours", "label": "We have this feature" },
        { "type": "checkbox", "id": "competitor_1", "label": "Competitor 1 has this feature" },
        { "type": "checkbox", "id": "competitor_2", "label": "Competitor 2 has this feature" },
        { "type": "checkbox", "id": "competitor_3", "label": "Competitor 3 has this feature" },
        { "type": "richtext", "id": "reason", "label": "Why this matters", "default": "<p>Explain why this feature is important.</p>" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Comparison Table",
      "blocks": [
        {
          "type": "feature",
          "settings": {
            "name": "Fast Shipping",
            "ours": true,
            "competitor_1": false,
            "competitor_2": true,
            "competitor_3": false,
            "reason": "<p>We prioritize quick deliveries to enhance customer satisfaction.</p>"
          }
        }
      ]
    }
  ]
}
{% endschema %}

<section class="py-24 bg-gray-100">
  <div class="container mx-auto px-6">
    <div class="text-center mb-10">
      <h2 class="text-3xl font-bold text-gray-900">{{ section.settings.content }}</h2>
      <p class="mt-4 text-gray-700">{{ section.settings.subcontent }}</p>
    </div>
    
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white shadow-md rounded-lg overflow-hidden">
        <thead class="bg-gray-800 text-white">
          <tr>
            <th class="py-4 px-6 text-left">Feature</th>
            <th class="py-4 px-6 text-center">Our Product</th>
            <th class="py-4 px-6 text-center">Competitor 1</th>
            <th class="py-4 px-6 text-center">Competitor 2</th>
            <th class="py-4 px-6 text-center">Competitor 3</th>
            <th class="py-4 px-6 text-left">Reason</th>
          </tr>
        </thead>
        <tbody>
          {% for block in section.blocks %}
          <tr class="border-b">
            <td class="py-4 px-6 font-semibold">{{ block.settings.name }}</td>
            <td class="py-4 px-6 text-center">
              {% if block.settings.ours %}
                <span class="text-green-500 text-2xl">✔</span>
              {% else %}
                <span class="text-red-500 text-2xl">✖</span>
              {% endif %}
            </td>
            <td class="py-4 px-6 text-center">
              {% if block.settings.competitor_1 %}
                <span class="text-green-500 text-2xl">✔</span>
              {% else %}
                <span class="text-red-500 text-2xl">✖</span>
              {% endif %}
            </td>
            <td class="py-4 px-6 text-center">
              {% if block.settings.competitor_2 %}
                <span class="text-green-500 text-2xl">✔</span>
              {% else %}
                <span class="text-red-500 text-2xl">✖</span>
              {% endif %}
            </td>
            <td class="py-4 px-6 text-center">
              {% if block.settings.competitor_3 %}
                <span class="text-green-500 text-2xl">✔</span>
              {% else %}
                <span class="text-red-500 text-2xl">✖</span>
              {% endif %}
            </td>
            <td class="py-4 px-6 text-gray-600">{{ block.settings.reason }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</section>

<style type="text/tailwindcss">
  #shopify-section-{{ section.id }} {
    --canvas: {{ section.settings.color_scheme.settings.canvas }};
    --ink: {{ section.settings.color_scheme.settings.ink }};
    --stroke: {{ section.settings.color_scheme.settings.stroke }};
    @apply bg-[var(--canvas)] text-[var(--ink)];
  }
</style>
