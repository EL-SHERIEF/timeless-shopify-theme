<script src="https://cdn.tailwindcss.com"></script>

<script>
tailwind.config = {
  theme: {
    extend: {
      colors: {
        // base
        canvas: '{{ settings.color_schemes.default.settings.canvas }}',
        ink: '{{ settings.color_schemes.default.settings.ink }}',
        // accents
        primary: '{{ settings.color_schemes.default.settings.primary }}',
        'primary-contrasting': '{{ settings.color_schemes.default.settings.primary_contrasting }}',
        secondary: '{{ settings.color_schemes.default.settings.secondary }}',
        'secondary-contrasting': '{{ settings.color_schemes.default.settings.secondary_contrasting }}',
        // other
        alert: '#f00',
        warning: '#eab308',
      },
      fontFamily: {
        heading: `{{ settings.font_heading.family }},{{ settings.font_heading.fallback_families }}`,
        body: `{{ settings.font_body.family }},{{ settings.font_body.fallback_families }}`,
      },
    }
  }
}
</script>

<style type="text/tailwindcss">
{{ settings.font_heading | font_face: font_display: string }}
{{ settings.font_body | font_face: font_display: string }}

@layer base {
  body {
    @apply bg-canvas text-ink accent-primary font-body;
  }

  summary {
    cursor: pointer;
  }

  label {
    cursor: pointer;
  }

  select {
    cursor: pointer;
  }
}

@layer components {
  /* typography */

  ._h {
    @apply font-heading;
  }
  .h1 { @apply _h text-4xl; }
  .h2 { @apply _h text-3xl; }
  .h3 { @apply _h text-xl; }
  .h4 { @apply _h text-lg; }
  .h5 { @apply _h; }
  .h6 { @apply _h; }

  .technical {
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }

  /* links, CTAs */

  ._btn {
    cursor: pointer;
    display: inline-flex;
    gap: .5em;
    align-items: center;
    justify-content: center;
    padding: 0.5em 1em;

    @apply disabled:bg-neutral-300;
  }

  .action {
    @apply _btn bg-primary text-primary-contrasting;
  }
  .action-secondary {
    @apply _btn bg-secondary text-secondary-contrasting;
  }

  .ghost {
    @apply _btn hover:bg-primary/10 active:bg-primary/20;
  }

  .link {
    @apply underline hover:decoration-2;
  }

  .chip {
    padding: 0 0.5em;
    @apply inline-flex rounded border border-gray-300;
  }

  /* inputs */

  .input {
    @apply chip hover:border-gray-400;
  }

  .quantity-input {
    @apply input;
    text-align: center;
    width: 4em;
    padding-right: 0;
  }

  /* layouts */

  .section {
    @apply max-w-screen-xl mx-auto py-8 px-4;
  }
}

@layer utilities {
  .with-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .5em;

    & svg {
      height: 1.5em;
      transition: scale 0.1s ease-in-out;
    }

    &:is(:hover, :focus) svg {
      scale: 1.2;
    }
  }

  /* richtext */

  .rte > * + * {
    margin-top: var(--spacing, .5em);
  }

  .rte h1 { @apply h1; }
  .rte h2 { @apply h2; }
  .rte h3 { @apply h3; }
  .rte h4 { @apply h4; }
  .rte h5 { @apply h5; }
  .rte h6 { @apply h6; }

  .rte :is(ul, ol) {
    list-style: revert;
    padding-left: 1.5em;
  }

  .rte :is(th, td) {
    padding: 0.25em 1em;
    @apply border;
  }
}
</style>
